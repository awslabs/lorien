

<!DOCTYPE html>
<html class="writer-html5" lang="python3" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Docker Images &mdash; lorien alpha documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorials" href="../tutorials/index.html" />
    <link rel="prev" title="Setup Lorien" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> lorien
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Setup Lorien</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-files">Docker Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute to Lorien</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Python APIs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">lorien</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Setup Lorien</a> &raquo;</li>
        
      <li>Docker Images</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/setup/on_docker.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="docker-images">
<span id="on-docker"></span><h1>Docker Images<a class="headerlink" href="#docker-images" title="Permalink to this headline">¶</a></h1>
<p>We provide prebuilt docker images to let you 1) quickly try out Lorien, 2) refer the environment set up, and 3) use it for AWS batch containers. You can find them on <a class="reference external" href="https://hub.docker.com/r/comaniac0422/lorien">Docker Hub</a>. We currently only provide prebuilt images for Ubuntu 18.04 on CPU and GPU platforms. The docker images include dependent packages and nightly built TVM. If you prefer other platforms or OS and is willing to make one, refer to <a class="reference internal" href="../contribute/index.html#contribute"><span class="std std-ref">Contribute to Lorien</span></a> to file a pull request.</p>
<p>First of all, you need to set up <a class="reference external" href="https://docs.docker.com/engine/installation/">docker</a> (or <a class="reference external" href="https://github.com/NVIDIA/nvidia-docker/">nvidia-docker</a> if you want to use cuda). In the rest of this guide, we will focus on the CPU platform, but you should be able to get the GPU platform working with exactly the same steps with <code class="docutils literal notranslate"><span class="pre">nvidia-docker</span></code>.</p>
<p>Let's first pull the docker image from Docker Hub. Note that you may need <code class="docutils literal notranslate"><span class="pre">sudo</span></code> for all docker comamnds in this guide if you do not configure your docker permission.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker pull comaniac0422/lorien:ubuntu-18.04-&lt;the latest version&gt;
</pre></div>
</div>
<p>Now the docker image is available on your machine. We then create a container and log in it using the provided script (run it in the Lorien root directory):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> docker<span class="p">;</span> ./bash.sh comaniac0422/lorien:ubuntu-18.04-&lt;the latest version&gt;
</pre></div>
</div>
<p>You can get the script by cloning Lorien, or copy it from <a class="reference external" href="https://github.com/comaniac/lorien/blob/master/docker/bash.sh">bash.sh</a>. The <code class="docutils literal notranslate"><span class="pre">bash.sh</span></code> script creates a container with the given docker image and execute a command. If no command is provided as shown in the above example, then it launches a bash shell for you to interact with. Note that your AWS credential on the host machine will not be available in a docker container, so you have to specify them in environment variables if you want Lorien to access AWS services (e.g., S3, DynamoDB, batch). <code class="docutils literal notranslate"><span class="pre">bash.sh</span></code> will set up an AWS credential in container according to the following environment variables.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">AWS_REGION</span><span class="o">=</span><span class="s2">&quot;us-west-1&quot;</span>
<span class="nb">export</span> <span class="nv">AWS_ACCESS_KEY</span><span class="o">=</span><span class="s2">&quot;OOOOXXX&quot;</span>
<span class="nb">export</span> <span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="s2">&quot;XXXYYY&quot;</span>
<span class="nb">cd</span> docker<span class="p">;</span> ./bash.sh comaniac0422/lorien:ubuntu-18.04-v0.01
</pre></div>
</div>
<p>After you login the container, you can clone and install Lorien (the prebuilt docker images do not have Lorien deployed as it is used for CI).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/comaniac/lorien.git
python3 setup.py install
</pre></div>
</div>
<p>That's all. You can now use Lorien! Try out some commands in Lorien README and have fun.</p>
</div>
<div class="section" id="docker-files">
<h1>Docker Files<a class="headerlink" href="#docker-files" title="Permalink to this headline">¶</a></h1>
<p>Check out <a class="reference external" href="https://github.com/comaniac/lorien/tree/master/docker">docker files</a> for Lorien docker files if you want to build your own docker images for your platform or newer dependencies.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../tutorials/index.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Setup Lorien" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>